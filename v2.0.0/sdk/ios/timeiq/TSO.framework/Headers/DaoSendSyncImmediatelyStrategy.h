//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: //com/intel/wearable/platform/timeiq/places/modules/persistence/syncdb/syncstrategy/DaoSendSyncImmediatelyStrategy.java
//

#ifndef _DaoSendSyncImmediatelyStrategy_H_
#define _DaoSendSyncImmediatelyStrategy_H_

@class DeviceStateData;
#import "JBClass.h"
@class SyncObject;
@class TSOPlacesGetSyncResponse;
@class TSOPlacesWriteRequest;
@class TSOPlacesWriteResponse;
@protocol IDaoCommonMethods;
@protocol IDeviceStateManager;
@protocol IHttpProviderWrapper;
#import "JBFuture.h"
#import "JBArrayList.h"

#import "JB.h"
#import "IDaoSendSyncStrategy.h"

#define DaoSendSyncImmediatelyStrategy_SYNC_LIMIT 50

/**
 @brief Created by aeirew on 04/08/2015.
 DaoSendSyncImmediatelyStrategy - Strategy to sync data immediately to the server Db (see more details on method in IDaoSendSyncStrategy interface)
 */
@interface DaoSendSyncImmediatelyStrategy : NSObject < IDaoSendSyncStrategy > {
 @public
  Class m_deserializeClass_;
  id<IDeviceStateManager> m_deviceStateManager_;
  id<IHttpProviderWrapper> m_httpProvider_;
  id<IDaoCommonMethods> m_idaoCommonMethods_;
}

- (instancetype)initWithClass :(Class )deserializeClass;

- (instancetype)initWithClass :(Class )deserializeClass
         withIDeviceStateManager:(id<IDeviceStateManager>)iDeviceStateManager
        withIHttpProviderWrapper:(id<IHttpProviderWrapper>)providerWrapper
           withIDaoCommonMethods:(id<IDaoCommonMethods>)iDaoCommonMethods;

- (void)notifyWriteStrategyWithSyncObject:(SyncObject *)syncObject;

- (ArrayList*)notifyReadStrategyWithNSString:(NSString *)userId
                                          withLong:(long64)syncFromTimeStamp;

/**
 @brief handleResultFromServer - parse and deserialize the result returned from the Server DB and return the list of objects from within the server response object
 @param result - the response body from the server
 @return - List of objects from the server response
 */
- (ArrayList*)handleResultFromServerWithTSOPlacesGetSyncResponse:(TSOPlacesGetSyncResponse *)result;

- (void)sendDataImmediately;

/**
 @brief sendSyncEventToSyncListener - update the Dao with the sync information: sync last time & sync status (FULLY_SYNCED, PARTIALLY_SYNCED, PENDING_SYNC, NONE_SYNCED)
 @param retFuture - the retCode return from the sync operation (Success/Failed)
 */
- (void)sendSyncEventToSyncListenerWithFuture:(id<Future>)retFuture;

/**
 @brief trySyncPendingObject - try to sync the pending sync objects with the Server in paging operation of SYNC_LIMIT at a time.
 @param userId
 @return - a success/fail RetCode of the whole operation
 */
- (id<Future>)trySyncPendingObjectWithNSString:(NSString *)userId;

- (TSOPlacesWriteResponse *)sendRemoteCallWriteExecutionWithTSOPlacesWriteRequest:(TSOPlacesWriteRequest *)request
                                                                     withNSString:(NSString *)url;

- (TSOPlacesWriteRequest *)createWriteRequestWithNSString:(NSString *)userId
                                         withJavaUtilList:(ArrayList*)objList;

- (void)onDeviceStateChangeWithDeviceStateData:(DeviceStateData *)deviceStateData
                              withJavaUtilList:(ArrayList*)deviceStateTypeChanges;

- (Class )getDeserializeClass;

- (void)copyAllFieldsTo:(DaoSendSyncImmediatelyStrategy *)other;

@end

FOUNDATION_EXPORT BOOL DaoSendSyncImmediatelyStrategy_initialized;
J2OBJC_STATIC_INIT(DaoSendSyncImmediatelyStrategy)

//J2OBJC_FIELD_SETTER(DaoSendSyncImmediatelyStrategy, m_deserializeClass_, Class )
//J2OBJC_FIELD_SETTER(DaoSendSyncImmediatelyStrategy, m_deviceStateManager_, id<IDeviceStateManager>)
//J2OBJC_FIELD_SETTER(DaoSendSyncImmediatelyStrategy, m_httpProvider_, id<IHttpProviderWrapper>)
//J2OBJC_FIELD_SETTER(DaoSendSyncImmediatelyStrategy, m_idaoCommonMethods_, id<IDaoCommonMethods>)

FOUNDATION_EXPORT NSString *DaoSendSyncImmediatelyStrategy_TAG_;
J2OBJC_STATIC_FIELD_GETTER(DaoSendSyncImmediatelyStrategy, TAG_, NSString *)

J2OBJC_STATIC_FIELD_GETTER(DaoSendSyncImmediatelyStrategy, SYNC_LIMIT, int)

typedef DaoSendSyncImmediatelyStrategy ComIntelWearablePlatformTimeiqPlacesModulesPersistenceSyncdbSyncstrategyDaoSendSyncImmediatelyStrategy;

#endif // _DaoSendSyncImmediatelyStrategy_H_
