//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: //com/intel/wearable/platform/timeiq/places/modules/visitsmodule/algs/FusedLocVisitDetector.java
//

#ifndef _FusedLocVisitDetector_H_
#define _FusedLocVisitDetector_H_

@class CLUSTER_STATE;
#import "NSNumber+JavaAPI.h"
#import "JBVector.h"
@class LocVisitState;
@class SlidingWindow;
@class TSOCoordinate;
@protocol ILocationData;

#import "JB.h"

#define FusedLocVisitDetector_TIME_TO_TRANSITION_PAUSE_TO_STAY 3
#define FusedLocVisitDetector_TRAVEL_SPEED_THRESHOLD 5.0
#define FusedLocVisitDetector_WIN_SIZE_TO_TRANSITION_TO_TRAVEL 2

/**
 @brief Created by rcshah on 1/15/2015.
 */
@interface FusedLocVisitDetector : NSObject {
 @public
  Vector *ca_vec_;
  CLUSTER_STATE *prevState_;
  SlidingWindow *accuracySlidingWindow_;
  SlidingWindow *samplingIntervalWindow_;
  long64 prevSampleTime_;
  JBBoolean *sparseTracking_;
  int medianFilterSize_;
}

- (instancetype)init;

/**
 @brief New location data is used to update the current visit.
 @param fuseLocation
 */
- (LocVisitState *)UpdateLocationWithILocationData:(id<ILocationData>)fuseLocation;

- (void)ForceEndCluster;

- (double)getCurrentClusterStateConfidence;

/**
 @brief Retrieve the centroid of the current visit
 @return GPS coordinates of the centroid
 */
- (TSOCoordinate *)getCurrentVisitCenter;

/**
 @brief Retrieve the radius of the current visit
 @return Radius in meters
 */
- (double)getCurrentVisitRadius;

- (double)ConvertMilesToMetersWithDouble:(double)valInMiles;

- (double)ConvertMetersToMilesWithDouble:(double)valInMeters;

- (void)SetupClusteringForDenseSampling;

- (void)SetupClusteringForSparseSampling;

- (void)handleChangedSamplingIntervalWithLong:(long64)sampleInterval;

- (void)copyAllFieldsTo:(FusedLocVisitDetector *)other;

@end

FOUNDATION_EXPORT BOOL FusedLocVisitDetector_initialized;
J2OBJC_STATIC_INIT(FusedLocVisitDetector)

//J2OBJC_FIELD_SETTER(FusedLocVisitDetector, ca_vec_, Vector *)
//J2OBJC_FIELD_SETTER(FusedLocVisitDetector, prevState_, CLUSTER_STATE *)
//J2OBJC_FIELD_SETTER(FusedLocVisitDetector, accuracySlidingWindow_, SlidingWindow *)
//J2OBJC_FIELD_SETTER(FusedLocVisitDetector, samplingIntervalWindow_, SlidingWindow *)
//J2OBJC_FIELD_SETTER(FusedLocVisitDetector, sparseTracking_, JBBoolean *)

J2OBJC_STATIC_FIELD_GETTER(FusedLocVisitDetector, TRAVEL_SPEED_THRESHOLD, double)

J2OBJC_STATIC_FIELD_GETTER(FusedLocVisitDetector, WIN_SIZE_TO_TRANSITION_TO_TRAVEL, int)

J2OBJC_STATIC_FIELD_GETTER(FusedLocVisitDetector, TIME_TO_TRANSITION_PAUSE_TO_STAY, int)

FOUNDATION_EXPORT int FusedLocVisitDetector_numClusterAgents_;
J2OBJC_STATIC_FIELD_GETTER(FusedLocVisitDetector, numClusterAgents_, int)
//J2OBJC_STATIC_FIELD_REF_GETTER(FusedLocVisitDetector, numClusterAgents_, int)

FOUNDATION_EXPORT NSString *FusedLocVisitDetector_TAG_;
J2OBJC_STATIC_FIELD_GETTER(FusedLocVisitDetector, TAG_, NSString *)

typedef FusedLocVisitDetector ComIntelWearablePlatformTimeiqPlacesModulesVisitsmoduleAlgsFusedLocVisitDetector;

#endif // _FusedLocVisitDetector_H_
