//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: //com/intel/wearable/platform/timeiq/common/storage/basicstorage/StorageFSImpl.java
//

#ifndef _StorageFSImpl_H_
#define _StorageFSImpl_H_

@class ClassFactory;
#import "JBFile.h"
@class StorageTypeData;
@protocol IFileUtils;
@protocol IJSONUtils;
@protocol ITSOLogger;
@protocol ITransfer;
#import "JBArrayList.h"

#import "JB.h"
#include "IStorage.h"
#import "JBFilenameFilter.h"

#define StorageFSImpl_MAX_FILE_SIZE 262144LL

/**
 @brief Created by ibeider on 03/02/2015.
 */
@interface StorageFSImpl : NSObject < IStorage > {
 @public
  id<ITSOLogger> m_logger_;
  id<IJSONUtils> m_JSONUtils_;
  StorageTypeData *m_storageTypeData_;
  File *storageDir_;
  File *currentFile_;
  ArrayList* pendingFiles_;
  id currentFileLock_;
  id pendingFilesLock_;
  id<IFileUtils> m_fileUtils_;
}

- (instancetype)initWithStorageTypeData:(StorageTypeData *)storageTypeData;

- (instancetype)initWithStorageTypeData:(StorageTypeData *)storageTypeData
                       withClassFactory:(ClassFactory *)classFactory;

- (instancetype)initWithStorageTypeData:(StorageTypeData *)storageTypeData
                         withITSOLogger:(id<ITSOLogger>)logger
                         withIJSONUtils:(id<IJSONUtils>)JSONUtils
                         withIFileUtils:(id<IFileUtils>)fileUtils;

/**
 @brief This function returns list of pending Files.
 @return List of files
 */
- (ArrayList*)loadPendingFiles;

/**
 @return location for storage on device TODO Move this code to platform package
 */
- (File *)getDeviceRepository;

- (void)appendWithId:(id)object;

/**
 @param transferInstance move files to provided interface (IMove)
 */
- (void)moveWithITransfer:(id<ITransfer>)transferInstance;

- (ArrayList*)getAllObjects;

- (ArrayList*)getObjectFromStorageWithFile:(File *)file;

- (File *)getNewStorageFile;

- (void)clearAll;

- (void)copyAllFieldsTo:(StorageFSImpl *)other;

@end

FOUNDATION_EXPORT BOOL StorageFSImpl_initialized;
J2OBJC_STATIC_INIT(StorageFSImpl)

//J2OBJC_FIELD_SETTER(StorageFSImpl, m_logger_, id<ITSOLogger>)
//J2OBJC_FIELD_SETTER(StorageFSImpl, m_JSONUtils_, id<IJSONUtils>)
//J2OBJC_FIELD_SETTER(StorageFSImpl, m_storageTypeData_, StorageTypeData *)
//J2OBJC_FIELD_SETTER(StorageFSImpl, storageDir_, File *)
//J2OBJC_FIELD_SETTER(StorageFSImpl, currentFile_, File *)
//J2OBJC_FIELD_SETTER(StorageFSImpl, pendingFiles_, ArrayList*)
//J2OBJC_FIELD_SETTER(StorageFSImpl, currentFileLock_, id)
//J2OBJC_FIELD_SETTER(StorageFSImpl, pendingFilesLock_, id)
//J2OBJC_FIELD_SETTER(StorageFSImpl, m_fileUtils_, id<IFileUtils>)

FOUNDATION_EXPORT NSString *StorageFSImpl_TAG_;
J2OBJC_STATIC_FIELD_GETTER(StorageFSImpl, TAG_, NSString *)

FOUNDATION_EXPORT NSString *StorageFSImpl_ENCODING_;
J2OBJC_STATIC_FIELD_GETTER(StorageFSImpl, ENCODING_, NSString *)

J2OBJC_STATIC_FIELD_GETTER(StorageFSImpl, MAX_FILE_SIZE, long64)

typedef StorageFSImpl ComIntelWearablePlatformTimeiqCommonStorageBasicstorageStorageFSImpl;

@interface StorageFSImpl_$1 : NSObject < FilenameFilter > {
 @public
  StorageFSImpl *this$0_;
  ArrayList* val$files_;
}

- (boolean)acceptWithFile:(File *)dir
                    withNSString:(NSString *)filename;

- (instancetype)initWithStorageFSImpl:(StorageFSImpl *)outer$
                     withJavaUtilList:(ArrayList*)capture$0;

@end

__attribute__((always_inline)) inline void StorageFSImpl_$1_init() {}

//J2OBJC_FIELD_SETTER(StorageFSImpl_$1, this$0_, StorageFSImpl *)
//J2OBJC_FIELD_SETTER(StorageFSImpl_$1, val$files_, ArrayList*)

#endif // _StorageFSImpl_H_
