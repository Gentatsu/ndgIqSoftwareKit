//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: //com/intel/wearable/platform/timeiq/places/modules/placesmodule/SemanticDetectionModule.java
//

#ifndef _SemanticDetectionModule_H_
#define _SemanticDetectionModule_H_

@class DetectedPlace;
#import "JBVector.h"
@class ManualPlace;
@class ModuleType;
@class SemanticDetectedPlace;
@protocol IGenericDaoImpl;
@protocol IPlaceListener;
@protocol IVisitEntry;
#import "JBHashSet.h"
#import "JBArrayList.h"
#import "JBHashtable.h"

#import "JB.h"
#import "IModuleApi.h"
#import "IPeriodicDetectionModule.h"
#import "JBComparator.h"

#define SemanticDetectionModule_MAX_DISTANCE_BETWEEN_DETECTED_AND_MANUAL_PLACE 150.0
#define SemanticDetectionModule_MAX_DISTANCE_BETWEEN_USED_DETECTED_AND_MANUAL_PLACE 50.0
#define SemanticDetectionModule_NUM_POINTS_SIGMOID_STEEPNESS 0.005
#define SemanticDetectionModule_SEMANTIC_MATCH_SCORE_FOR_DETECTED_PLACE_ONLY 0.0
#define SemanticDetectionModule_UNIQUE_DAYS_SIGMOID_STEEPNESS 0.2

@interface SemanticDetectionModule : NSObject < IPeriodicDetectionModule, IModuleApi > {
 @public
  ArrayList* listeners_;
  id<IGenericDaoImpl> detectedPlaceDao_;
  id<IGenericDaoImpl> semanticDetectionDao_;
  id<IGenericDaoImpl> manualPlaceDao_;
}

/**
 @brief Constructor
 */
- (instancetype)init;

/**
 @brief Constructor
 @param detectedPlaceDao
 @param semanticDetectionDao
 @param manualPlaceDao
 */
- (instancetype)initWithIGenericDaoImpl:(id<IGenericDaoImpl>)detectedPlaceDao
                    withIGenericDaoImpl:(id<IGenericDaoImpl>)semanticDetectionDao
                    withIGenericDaoImpl:(id<IGenericDaoImpl>)manualPlaceDao;

- (void)runDetection;

- (void)runSemanticDetectionLogicWithNSString:(NSString *)userId;

- (ArrayList*)runSemanticDetectionWithJavaUtilMap:(HashMap*)detectedPlacesMap
                                        withJavaUtilMap:(HashMap*)manualPlacesMap
                                 withJavaUtilCollection:(Set*)existingSemanticPlaces;

- (boolean)isBetterWithDetectedPlace:(DetectedPlace *)candidate
                    withDetectedPlace:(DetectedPlace *)current;

- (SemanticDetectedPlace *)mergeWithManualPlace:(ManualPlace *)mp
                              withDetectedPlace:(DetectedPlace *)dp
                                withJavaUtilMap:(HashMap*)mpIdToSdp;

- (double)rankWithDouble:(double)t
               withDouble:(double)k;

- (double)sigmoidWithDouble:(double)t
                  withDouble:(double)k;

- (NSString *)getUserId;

- (void)registerListenerWithId:(id<IPlaceListener>)listener;

- (void)unregisterListenerWithId:(id<IPlaceListener>)listener;

- (void)storeModule;

- (void)restoreModule;

- (ModuleType *)getModuleType;

- (Vector *)getAll;

- (SemanticDetectedPlace *)findWithId:(id<IVisitEntry>)visitEntry;

+ (HashMap*)generateIdToObjectMapWithJavaUtilCollection:(Set*)collection;

- (void)copyAllFieldsTo:(SemanticDetectionModule *)other;

@end

FOUNDATION_EXPORT BOOL SemanticDetectionModule_initialized;
J2OBJC_STATIC_INIT(SemanticDetectionModule)

//J2OBJC_FIELD_SETTER(SemanticDetectionModule, listeners_, ArrayList*)
//J2OBJC_FIELD_SETTER(SemanticDetectionModule, detectedPlaceDao_, id<IGenericDaoImpl>)
//J2OBJC_FIELD_SETTER(SemanticDetectionModule, semanticDetectionDao_, id<IGenericDaoImpl>)
//J2OBJC_FIELD_SETTER(SemanticDetectionModule, manualPlaceDao_, id<IGenericDaoImpl>)

FOUNDATION_EXPORT NSString *SemanticDetectionModule_TAG_;
J2OBJC_STATIC_FIELD_GETTER(SemanticDetectionModule, TAG_, NSString *)

J2OBJC_STATIC_FIELD_GETTER(SemanticDetectionModule, MAX_DISTANCE_BETWEEN_DETECTED_AND_MANUAL_PLACE, double)

J2OBJC_STATIC_FIELD_GETTER(SemanticDetectionModule, MAX_DISTANCE_BETWEEN_USED_DETECTED_AND_MANUAL_PLACE, double)

J2OBJC_STATIC_FIELD_GETTER(SemanticDetectionModule, SEMANTIC_MATCH_SCORE_FOR_DETECTED_PLACE_ONLY, double)

J2OBJC_STATIC_FIELD_GETTER(SemanticDetectionModule, NUM_POINTS_SIGMOID_STEEPNESS, double)

J2OBJC_STATIC_FIELD_GETTER(SemanticDetectionModule, UNIQUE_DAYS_SIGMOID_STEEPNESS, double)

FOUNDATION_EXPORT id<IComparator> SemanticDetectionModule_SEMANTIC_DETECTED_PLACE_COMPARATOR_;
J2OBJC_STATIC_FIELD_GETTER(SemanticDetectionModule, SEMANTIC_DETECTED_PLACE_COMPARATOR_, id<IComparator>)

typedef SemanticDetectionModule ComIntelWearablePlatformTimeiqPlacesModulesPlacesmoduleSemanticDetectionModule;

@interface SemanticDetectionModule_$1 : NSObject < IComparator > {
}

- (int)compareWithId:(SemanticDetectedPlace *)sdp1
               withId:(SemanticDetectedPlace *)sdp2;

- (instancetype)init;

@end

__attribute__((always_inline)) inline void SemanticDetectionModule_$1_init() {}

#endif // _SemanticDetectionModule_H_
