//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: //com/intel/wearable/platform/timeiq/userstate/VipStateDataProvider.java
//

#ifndef _VipStateDataProvider_H_
#define _VipStateDataProvider_H_

@class ClassFactory;
#import "NSNumber+JavaAPI.h"
@class VisitedPlace;
@class VisitedPlaceConfidence;
@protocol IPlaceRepoModule;
@protocol IPlacesEngine;
@protocol ITSOAlarmManager;
@protocol ITSOLogger;
@protocol ITSOTimeUtil;
#import "JBHashSet.h"
@protocol JavaUtilSortedSet;

#import "JB.h"
#import "ITSOAlarmListener.h"
#import "IVisitInPlaceListener.h"
#import "AStateDataProvider.h"
#import "IVipStateDataProvider.h"
#import "JBComparator.h"

#define VipStateDataProvider_LOW_CONFIDENCE_DELAY 300000LL

/**
 @brief Created by gilsharo on 6/7/2015.
 */
@interface VipStateDataProvider : AStateDataProvider < IVipStateDataProvider, IVisitInPlaceListener, ITSOAlarmListener > {
 @public
  id<ITSOLogger> tsoLogger_;
  id<ITSOTimeUtil> timeUtil_;
  id<IPlacesEngine> placesEngine_;
  id<IPlaceRepoModule> placesRepo_;
  id<ITSOAlarmManager> alarmManager_;
  NSString *alarmId_;
  Long *alarmTimestamp_;
  Set* startVisits_;
  Set* endVisits_;
  HashSet* candidates_;
  id lock_;
}

- (instancetype)init;

- (instancetype)initWithClassFactory:(ClassFactory *)classFactory;

- (instancetype)initWithITSOTimeUtil:(id<ITSOTimeUtil>)timeUtil
                      withITSOLogger:(id<ITSOLogger>)tsoLogger
                   withIPlacesEngine:(id<IPlacesEngine>)placesEngine
                withIPlaceRepoModule:(id<IPlaceRepoModule>)placesRepo
                withITSOAlarmManager:(id<ITSOAlarmManager>)alarmManager;

- (void)filterNonSemanticPlacesWithJavaUtilCollection:(Set*)visitsToFilter;

- (boolean)isSemanticVisitedPlaceWithVisitedPlace:(VisitedPlace *)vp;

- (void)onVisitInPlaceStartWithJavaUtilCollection:(Set*)visits;

- (Set*)filterStartedVisitsAndSetCandidatesWithJavaUtilCollection:(Set*)visits;

- (void)addCandidatesWithJavaUtilCollection:(Set*)candidates;

- (void)updateAlarm;

- (void)cancelAlarm;

- (void)clearCandidates;

- (void)onAlarmWithNSString:(NSString *)action
               withNSString:(NSString *)id_
               withNSString:(NSString *)data;

- (Set*)removeRipeCandidates;

- (VisitedPlaceConfidence *)getCurrentBestConfidence;

- (boolean)isHigherConfidenceWithVisitedPlaceConfidence:(VisitedPlaceConfidence *)newConfidence
                              withVisitedPlaceConfidence:(VisitedPlaceConfidence *)oldConfidence;

- (void)onVisitInPlaceEndWithJavaUtilCollection:(Set*)visits;

- (void)updateData;

- (void)copyAllFieldsTo:(VipStateDataProvider *)other;

@end

FOUNDATION_EXPORT BOOL VipStateDataProvider_initialized;
J2OBJC_STATIC_INIT(VipStateDataProvider)

//J2OBJC_FIELD_SETTER(VipStateDataProvider, tsoLogger_, id<ITSOLogger>)
//J2OBJC_FIELD_SETTER(VipStateDataProvider, timeUtil_, id<ITSOTimeUtil>)
//J2OBJC_FIELD_SETTER(VipStateDataProvider, placesEngine_, id<IPlacesEngine>)
//J2OBJC_FIELD_SETTER(VipStateDataProvider, placesRepo_, id<IPlaceRepoModule>)
//J2OBJC_FIELD_SETTER(VipStateDataProvider, alarmManager_, id<ITSOAlarmManager>)
//J2OBJC_FIELD_SETTER(VipStateDataProvider, alarmId_, NSString *)
//J2OBJC_FIELD_SETTER(VipStateDataProvider, alarmTimestamp_, Long *)
//J2OBJC_FIELD_SETTER(VipStateDataProvider, startVisits_, Set*)
//J2OBJC_FIELD_SETTER(VipStateDataProvider, endVisits_, Set*)
//J2OBJC_FIELD_SETTER(VipStateDataProvider, candidates_, HashSet*)
//J2OBJC_FIELD_SETTER(VipStateDataProvider, lock_, id)

FOUNDATION_EXPORT id<IComparator> VipStateDataProvider_VISITED_PLACE_TIMESTAMP_COMPARATOR_;
J2OBJC_STATIC_FIELD_GETTER(VipStateDataProvider, VISITED_PLACE_TIMESTAMP_COMPARATOR_, id<IComparator>)

J2OBJC_STATIC_FIELD_GETTER(VipStateDataProvider, LOW_CONFIDENCE_DELAY, long64)

FOUNDATION_EXPORT NSString *VipStateDataProvider_TAG_;
J2OBJC_STATIC_FIELD_GETTER(VipStateDataProvider, TAG_, NSString *)

typedef VipStateDataProvider ComIntelWearablePlatformTimeiqUserstateVipStateDataProvider;

@interface VipStateDataProvider_$1 : NSObject < IComparator > {
}

- (int)compareWithId:(VisitedPlace *)o1
               withId:(VisitedPlace *)o2;

- (instancetype)init;

@end

__attribute__((always_inline)) inline void VipStateDataProvider_$1_init() {}

#endif // _VipStateDataProvider_H_
