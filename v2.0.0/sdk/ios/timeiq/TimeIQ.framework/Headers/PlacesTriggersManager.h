//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: //com/intel/wearable/platform/timeiq/triggers/place/PlacesTriggersManager.java
//

#ifndef _PlacesTriggersManager_H_
#define _PlacesTriggersManager_H_

@class PlaceTriggerInner;
@class PlaceTriggerType;
@class UserState;
@class UserStateChanges;
@class VisitedPlaces;
@protocol IManagersListener;
@protocol IPlacesTriggersStorage;
@protocol ITriggerLifeCycleListener;
@protocol IUserStateManagerModule;

#import "JB.h"
#import "IUserStateChangeListener.h"
#import "ABaseTriggersManager.h"
#import "IPlacesTriggersManager.h"

/**
 @brief Created by mleib on 26/04/2015.
 */
@interface PlacesTriggersManager : ABaseTriggersManager < IPlacesTriggersManager, IUserStateChangeListener > {
 @public
  id<IUserStateManagerModule> m_userStateManager_;
  boolean m_isRegistered_;
}

- (instancetype)init;

- (instancetype)initWithIPlacesTriggersStorage:(id<IPlacesTriggersStorage>)placesTriggersStorage
                   withIUserStateManagerModule:(id<IUserStateManagerModule>)userStateManager;

- (void)startWithIManagersListener:(id<IManagersListener>)triggerListener
     withITriggerLifeCycleListener:(id<ITriggerLifeCycleListener>)triggerLifeCycleListener;

/**
 @brief should only be used internally. is called after trigger added to storage
 @param trigger
 @return 
 */
- (boolean)onTriggerAddedWithITriggerInner:(PlaceTriggerInner *)trigger;

/**
 @brief this is called after trigger removed from storage
 @param trigger
 @return 
 */
- (void)cancelTriggerWithITriggerInner:(PlaceTriggerInner *)trigger;

- (void)onTriggerSetAsTriggeredWithITriggerInner:(PlaceTriggerInner *)trigger;

- (void)registerUserStateIfNeeded;

- (void)register__;

- (void)unRegisterUserStateIfNeeded;

- (void)unregister;

- (void)onDestroy;

- (void)onStateChangedWithUserState:(UserState *)oldState
                      withUserState:(UserState *)newState
               withUserStateChanges:(UserStateChanges *)changes;

- (void)onVisitOrLeaveChangeWithVisitedPlaces:(VisitedPlaces *)visitedPlaces
                     withPlaceTriggerType:(PlaceTriggerType *)type;

/**
 @brief For testing
 */
- (boolean)isRegistered;

- (void)copyAllFieldsTo:(PlacesTriggersManager *)other;

@end

FOUNDATION_EXPORT BOOL PlacesTriggersManager_initialized;
J2OBJC_STATIC_INIT(PlacesTriggersManager)

//J2OBJC_FIELD_SETTER(PlacesTriggersManager, m_userStateManager_, id<IUserStateManagerModule>)

FOUNDATION_EXPORT id PlacesTriggersManager_m_lock_;
J2OBJC_STATIC_FIELD_GETTER(PlacesTriggersManager, m_lock_, id)
//J2OBJC_STATIC_FIELD_SETTER(PlacesTriggersManager, m_lock_, id)

typedef PlacesTriggersManager ComIntelWearablePlatformTimeiqTriggersPlacePlacesTriggersManager;

#endif // _PlacesTriggersManager_H_
